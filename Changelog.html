<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>更新日志 | QQ聊天机器人凯尔希</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="明日方舟qq聊天机器人Kal-tsit凯尔希说明文档">
    
    <link rel="preload" href="/QQbot_Kal-tsit/assets/css/0.styles.5ad98f54.css" as="style"><link rel="preload" href="/QQbot_Kal-tsit/assets/js/app.acd40724.js" as="script"><link rel="preload" href="/QQbot_Kal-tsit/assets/js/2.8999a334.js" as="script"><link rel="preload" href="/QQbot_Kal-tsit/assets/js/8.2843cdf4.js" as="script"><link rel="prefetch" href="/QQbot_Kal-tsit/assets/js/3.ea1ce374.js"><link rel="prefetch" href="/QQbot_Kal-tsit/assets/js/4.901f98b8.js"><link rel="prefetch" href="/QQbot_Kal-tsit/assets/js/5.4b984030.js"><link rel="prefetch" href="/QQbot_Kal-tsit/assets/js/6.d51369bd.js"><link rel="prefetch" href="/QQbot_Kal-tsit/assets/js/7.42e20341.js"><link rel="prefetch" href="/QQbot_Kal-tsit/assets/js/9.12504849.js">
    <link rel="stylesheet" href="/QQbot_Kal-tsit/assets/css/0.styles.5ad98f54.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/QQbot_Kal-tsit/" class="home-link router-link-active"><!----> <span class="site-name">QQ聊天机器人凯尔希</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/konelane/QQbot_Kal-tsit" target="_self" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><a href="https://graiax.cn/" target="_self" class="nav-link external">
  社区文档
  <!----></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/konelane/QQbot_Kal-tsit" target="_self" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><a href="https://graiax.cn/" target="_self" class="nav-link external">
  社区文档
  <!----></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/QQbot_Kal-tsit/Guide.html" class="sidebar-link">功能指引</a></li><li><a href="/QQbot_Kal-tsit/Changelog.html" aria-current="page" class="active sidebar-link">更新日志</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-22-05-21" class="sidebar-link">更新 22.05.21</a></li><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-22-03-23" class="sidebar-link">更新 22.03.23</a></li><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-22-02-27" class="sidebar-link">更新 22.02.27</a></li><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-22-02-23" class="sidebar-link">更新 22.02.23</a></li><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-22-02-13" class="sidebar-link">更新  22.02.13</a></li><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-22-01-17" class="sidebar-link">更新 22.01.17</a></li><li class="sidebar-sub-header"><a href="/QQbot_Kal-tsit/Changelog.html#更新-21-09-06" class="sidebar-link">更新 21.09.06</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="更新日志"><a href="#更新日志" class="header-anchor">#</a> 更新日志</h1> <h2 id="更新-22-05-21"><a href="#更新-22-05-21" class="header-anchor">#</a> 更新 22.05.21</h2> <p>修bug：</p> <ul><li><p>退群功能失灵</p></li> <li><p>降低风险，修改好友审批条件</p></li> <li><p>菜单维护……原因不明。</p></li></ul> <p>这个月在忙别的，基本没怎么写代码……</p> <p>更新了贴贴好感50以上的特殊文本。</p> <h2 id="更新-22-03-23"><a href="#更新-22-03-23" class="header-anchor">#</a> 更新 22.03.23</h2> <p>打卡上线快一个月，总算又更新了。这段时间大家十分喜爱凯尔希，也有对凯尔希的建议，十分感谢大家。</p> <p>功能上，新出了以下内容：</p> <ul><li>签到运势</li> <li>bot功能开关管理</li> <li>bot退群功能</li> <li>加好友与加群审批</li></ul> <p>代码上，凯尔希终于终于换上了saya来管理模组，模块化太香了！！群友们想了很多怪点子，我时间不充裕，只能一点一点来啦。</p> <p>以及，学习了非实例化的python类用法，受益匪浅，import进来一些全局变量，修改还能保存，真的很舒服。</p> <h2 id="更新-22-02-27"><a href="#更新-22-02-27" class="header-anchor">#</a> 更新 22.02.27</h2> <p>更新了签到功能。指令是<code>#签到</code>或者<code>#打卡</code>。</p> <p>货币系统与信赖系统还没做……签到绘图的bug挺多的，还需慢慢修改。</p> <p>使用时依然要先运行一下<code>Signin.py</code>建立数据库。</p> <p>使用原始方案为<a href="https://github.com/Redlnn/signin-image-generator" target="_blank" rel="noopener noreferrer">sign in image generator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，魔改了一下。感谢大佬。</p> <p>也简单优化了一些代码逻辑。</p> <p>管理员控制的接口要提上日程了，唉。</p> <h2 id="更新-22-02-23"><a href="#更新-22-02-23" class="header-anchor">#</a> 更新 22.02.23</h2> <p>首先，更新了框架！！</p> <p>现在bot使用的是Graia-Ariadne框架，真的很舒服！推荐</p> <p>优化了一些逻辑、代码结构等等……调整了部分文字小细节。</p> <p>更新了星际争霸的突变查询功能，更新了四人牌桌车队组建功能。</p> <p>2022年2月22日星期二，本二次元的小努力总算没有白费。</p> <h2 id="更新-22-02-13"><a href="#更新-22-02-13" class="header-anchor">#</a> 更新  22.02.13</h2> <p>试图为凯尔希加一个文档页面~</p> <h2 id="更新-22-01-17"><a href="#更新-22-01-17" class="header-anchor">#</a> 更新 22.01.17</h2> <p>发生了不可逆事故，腾讯开始对bot进行风控，服务器运行卡顿，mcl更换消息码……一系列事情之下，可能需要更换凯尔希的框架咯。</p> <p>因此，先把最近的更新放上来……咸鱼氦核还是更新了不少东西的！</p> <blockquote><p>更新记录 21.12.18<br>
优化bot文件目录<br>
|---MessageProcessor # 消息标准化处理中心<br>
|---bot2       # bot主体启动文件<br>
|---AuthSet      # 权限系统<br>
|---story_xu     # 核心函数<br>
|---readme      # 项目介绍-帮助<br>
|---database:<br>
|---|---Kal-tsit.db    # 数据库<br>
|---|---beijing.pkl    # 地图文件<br>
|---|---temp.png     # 缓存图片<br>
|---|---stopRepeat.jpg  # 打断复读使用的图片<br>
|---|---adventureMap.pkl # 生成的地下城地图<br>
|---function：<br>
|---|---prts         # prts功能<br>
|---|---ForcastForTricks   # 天气预报功能<br>
|---|---DarkTemple      # 消息处理器-功能核心组件<br>
|---|---squads_init      # 初始化干员<br>
|---|---praise        # 夸夸<br>
|---|---CardSearch      # ygo查卡功能<br>
|---|---couplet        # 对对子，出对！<br>
|---|---operator_rollbox_bot # 自限作业抽取<br>
|---|---adventure       # 肉鸽迷宫<br>
|---|---stopRepeat      # 打断复读</p></blockquote> <p>打眼一看文件目录，是不是发现比上一版多了好多功能？那么为什么半天没有更新呢……因为懒，哈哈。还有一些功能没有单独放一个文件，譬如凯尔希的办公桌（漂流瓶），以及每个bot都少不了的抽瑟图功能之类……</p> <p>首先还是老样子，几个带图片的功能用不成：地图、打断复读、抽se图（这也是本次更新的缘由……）</p> <p>个人比较满意的是地下城（adventure.py）和复读打断功能！太喜欢了以至于经常自己刷五句话哈哈哈。</p> <p>database里会保存每个群的聊天记录（复读超过五句只会保存一句），同时还解包了YGO的app，把卡面数据丢进去了（写好之后就没更新过……已经落后版本了哈哈）。</p> <p>对对子功能也很好玩，喜欢谜语的大家一定要试试。模型是跑了四天的lstm……但是依然谜语（</p> <p>其他的功能没什么好介绍的了。这次腾讯出手，真是难受了。不知道凯尔希能不能挺住。群里有大佬推荐更换框架，有时间就试试吧……优先级在todolist上不是很靠前，大概是看透了凯尔希被很多人只当做抽图工具这一事实【捂脸</p> <h2 id="更新-21-09-06"><a href="#更新-21-09-06" class="header-anchor">#</a> 更新 21.09.06</h2> <h4 id="_1-优化bot文件目录"><a href="#_1-优化bot文件目录" class="header-anchor">#</a> 1.优化bot文件目录</h4> <blockquote><p>|---MessageProcessor # 消息标准化处理中心<br>
|---bot2             # bot主体启动文件<br>
|---AuthSet          # 权限系统<br>
|---story_xu         # 核心函数<br>
|---readme           # 代码介绍<br>
|---database:<br>
|---|---Kal-tsit.db  # 数据库<br>
|---|---beijing.pkl  # 地图文件<br>
|---|---temp.png     # 缓存<br>
|---function：<br>
|---|---prts                 # prts功能<br>
|---|---ForcastForTricks     # 天气预报功能<br>
|---|---DarkTemple           # 消息处理器<br>
|---|---squads_init          # 初始化干员<br>
|---|---operator_rollbox_bot # 群作业系统</p></blockquote> <h3 id="_2-添加-修改了功能"><a href="#_2-添加-修改了功能" class="header-anchor">#</a> 2.添加/修改了功能</h3> <ul><li>权限系统</li> <li>天气/地图查询</li> <li>jieba分词器</li> <li>prts查询爬虫</li></ul> <p><strong>21.09.06 by KOneLane</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/QQbot_Kal-tsit/Guide.html" class="prev">
        功能指引
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/QQbot_Kal-tsit/assets/js/app.acd40724.js" defer></script><script src="/QQbot_Kal-tsit/assets/js/2.8999a334.js" defer></script><script src="/QQbot_Kal-tsit/assets/js/8.2843cdf4.js" defer></script>
  </body>
</html>
